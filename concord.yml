flows:
  default:
    - form:
        name: stageForm
    - script: groovy
      body: |
        def stage = form['stageForm']['environment']

        println "Selected stage: $stage"

        if (stage == 'int') {
            println "path: Prod/genvault/secret/adtech-infra-team/prod/team/infra/databases/generic/$stage/infra_root"
        } else if (stage == 'stg') {
            println "path: Prod/genvault/secret/adtech-infra-team/prod/team/infra/databases/generic/$stage/infra_root"
        } else if (stage == 'prod') {
            println "path: Prod/genvault/secret/adtech-infra-team/prod/team/infra/databases/generic/$stage/infra_root"
        }
forms:
  stageForm:
  - environment: { label: "environment type", type: "string", allow: ["int", "stage", "prod"] }
